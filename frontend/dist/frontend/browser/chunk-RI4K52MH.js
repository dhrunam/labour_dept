import{a as O,b as R,c as B,d as j,e as G,f as J,g as L,h as U,i as X,j as W,k as z}from"./chunk-XIE5ILST.js";import{a as I}from"./chunk-X6DOGZJB.js";import{C as M,E as T,G as C,H as v,I as x,J as S,K as e,L as t,M as o,N as F,O as u,P as h,Q as _,R as n,S as p,U as P,_ as q,ea as $,h as A,k as V,m as D,q as y,r as f,y as s,z as N}from"./chunk-L44R2V2C.js";var H=(()=>{let d=class d{constructor(l){this.http=l}get_districts(){return this.http.get(`${I}/api/master/district`)}get_establishments(){return this.http.get(`${I}/api/master/establishment/category`)}get_offices(){return this.http.get(`${I}/api/master/office`)}submit_application(l){return this.http.post(`${I}/api/application/establishment/list`,l)}};d.\u0275fac=function(i){return new(i||d)(V(q))},d.\u0275prov=A({token:d,factory:d.\u0275fac,providedIn:"root"});let a=d;return a})();function Y(a,d){if(a&1&&(e(0,"option",48),n(1),t()),a&2){let r=d.$implicit;T("value",r.id),s(),p(r.district_name)}}function Z(a,d){if(a&1&&(e(0,"option",48),n(1),t()),a&2){let r=d.$implicit;T("value",r.id),s(),p(r.category)}}function ee(a,d){if(a&1){let r=F();e(0,"li",102)(1,"span"),n(2),t(),e(3,"span"),n(4),t(),e(5,"span"),n(6),t(),e(7,"span"),n(8),t(),e(9,"span",103),u("click",function(){let i=y(r).$implicit,m=h(2);return f(m.employerParentageDetails("delete",{employer_parentage_name:i.parentage_name}))}),n(10,"X"),t()()}if(a&2){let r=d.$implicit;s(2),p(r.parentage_name),s(2),p(r.designation),s(2),p(r.permanent_address),s(2),p(r.nature_interest)}}function te(a,d){if(a&1&&(e(0,"ul",66),x(1,ee,11,4,"li",102,v),t()),a&2){let r=h();s(),S(r.employer_parentage_details)}}function ne(a,d){if(a&1){let r=F();e(0,"li",102)(1,"span"),n(2),t(),e(3,"span"),n(4),t(),e(5,"span"),n(6),t(),e(7,"span",103),u("click",function(){let i=y(r).$implicit,m=h(2);return f(m.employerDetails("delete",{employer_name:i.name}))}),n(8,"X"),t()()}if(a&2){let r=d.$implicit;s(2),p(r.name),s(2),p(r.designation),s(2),p(r.permanent_address)}}function ie(a,d){if(a&1&&(e(0,"ul",66),x(1,ne,9,3,"li",102,v),t()),a&2){let r=h();s(),S(r.employer_details)}}function le(a,d){if(a&1){let r=F();e(0,"li",102)(1,"span"),n(2),t(),e(3,"span"),n(4),t(),e(5,"span"),n(6),t(),e(7,"span"),n(8),t(),e(9,"span",103),u("click",function(){let i=y(r).$implicit,m=h(2);return f(m.employerFamilyMemberDetails("delete",{employer_family_name:i.name}))}),n(10,"X"),t()()}if(a&2){let r=d.$implicit;s(2),p(r.name),s(2),p(r.age),s(2),p(r.gender),s(2),p(r.relationship)}}function ae(a,d){if(a&1&&(e(0,"ul",66),x(1,le,11,4,"li",102,v),t()),a&2){let r=h();s(),S(r.employer_family_member_details)}}function re(a,d){if(a&1){let r=F();e(0,"li",102)(1,"span"),n(2),t(),e(3,"span"),n(4),t(),e(5,"span"),n(6),t(),e(7,"span"),n(8),t(),e(9,"span",103),u("click",function(){let i=y(r).$implicit,m=h(2);return f(m.managementEmployeeDetails("delete",{employer_management_name:i.name}))}),n(10,"X"),t()()}if(a&2){let r=d.$implicit;s(2),p(r.name),s(2),p(r.age),s(2),p(r.gender),s(2),p(r.relationship)}}function oe(a,d){if(a&1&&(e(0,"ul",66),x(1,re,11,4,"li",102,v),t()),a&2){let r=h();s(),S(r.management_level_employee_details)}}function me(a,d){if(a&1&&(e(0,"option",48),n(1),t()),a&2){let r=d.$implicit;T("value",r.id),s(),p(r.address)}}function de(a,d){a&1&&(o(0,"span",104),e(1,"span",105),n(2,"Loading..."),t())}function se(a,d){a&1&&n(0," Submit ")}var fe=(()=>{let d=class d{constructor(l,i){this.formService=l,this.router=i,this.offices=[],this.districts=[],this.establishments=[],this.employer_parentage_details=[],this.employer_details=[],this.employer_family_member_details=[],this.management_level_employee_details=[],this.agree=!1,this.loader=!1}ngOnInit(){this.get_districts(),this.get_establishments(),this.get_offices()}get_districts(){this.formService.get_districts().subscribe({next:l=>{this.districts=l.results}})}get_establishments(){this.formService.get_establishments().subscribe({next:l=>{this.establishments=l.results}})}get_offices(){this.formService.get_offices().subscribe({next:l=>{this.offices=l.results}})}getCheck(l){this.agree=!!l.target.checked}photoUpload(l){l.target.files&&(this.photo=l.target.files[0])}employerParentageDetails(l,i){if(l==="add")i.employer_parentage_name===""&&i.employer_parentage_desg===""&&i.employer_parentage_addr===""&&i.employer_parentage_interest===""?alert("Please enter values to the corresponding fields"):this.employer_parentage_details.push({parentage_name:i.employer_parentage_name,designation:i.employer_parentage_desg||"N/A",permanent_address:i.employer_parentage_addr||"N/A",nature_interest:i.employer_parentage_interest||"N/A"});else{let m=this.employer_parentage_details.findIndex(c=>c.parentage_name===i.employer_parentage_name);m>=0&&this.employer_parentage_details.splice(m,1)}}employerDetails(l,i){if(l==="add")i.employer_name===""&&i.employer_desg===""&&i.employer_addr===""?alert("Please enter values to the corresponding fields"):this.employer_details.push({name:i.employer_name,designation:i.employer_desg||"N/A",permanent_address:i.employer_addr||"N/A"});else{let m=this.employer_details.findIndex(c=>c.name===i.employer_name);m>=0&&this.employer_details.splice(m,1)}}employerFamilyMemberDetails(l,i){if(l==="add")i.employer_family_name===""&&i.employer_family_age===""&&i.employer_family_rel===""&&i.employer_family_gender===""?alert("Please enter values to the corresponding fields"):this.employer_family_member_details.push({name:i.employer_family_name,age:i.employer_family_age||"N/A",gender:i.employer_family_gender||"N/A",relationship:i.employer_family_rel||"N/A"});else{let m=this.employer_family_member_details.findIndex(c=>c.name===i.employer_family_name);m>=0&&this.employer_family_member_details.splice(m,1)}}managementEmployeeDetails(l,i){if(l==="add")i.employer_management_name===""&&i.employer_management_age===""&&i.employer_management_rel===""&&i.employer_management_gender===""?alert("Please enter values to the corresponding fields"):this.management_level_employee_details.push({name:i.employer_management_name,age:i.employer_management_age||"N/A",gender:i.employer_management_gender||"N/A",relationship:i.employer_management_rel||"N/A"});else{let m=this.management_level_employee_details.findIndex(c=>c.name===i.employer_management_name);m>=0&&this.management_level_employee_details.splice(m,1)}}submitForm(l){if(!l.valid)l.control.markAllAsTouched();else{this.loader=!0;let i=new FormData;i.append("office_location",l.value.district),i.append("registration_status",l.value.registration_type),i.append("full_name_applicant",l.value.full_name),i.append("email_applicant",l.value.email),i.append("photograph_applicant",this.photo),i.append("establishment_name",l.value.establishment_name),i.append("establishment_address",l.value.address),i.append("establishment_pincode","737101"),i.append("situation_of_other_premises",l.value.situation),i.append("establishment_category",l.value.establishment_category),i.append("nature_business",l.value.nature_of_business),i.append("total_emplyee_male_18",l.value.old_male),i.append("total_emplyee_female_18",l.value.old_female),i.append("total_emplyee_other_18","0"),i.append("total_emplyee_male_14",l.value.young_male),i.append("total_emplyee_female_14",l.value.young_female),i.append("total_emplyee_other_14","0"),i.append("weekly_holidays_name",l.value.weekly_holidays),i.append("is_agreed_terms_and_condition",this.agree?"True":"False"),i.append("applied_office_details",l.value.office),i.append("employer_parentage_details",JSON.stringify(this.employer_parentage_details)),i.append("employer_details",JSON.stringify(this.employer_details)),i.append("employer_family_member_details",JSON.stringify(this.employer_family_member_details)),i.append("management_level_employee_details",JSON.stringify(this.management_level_employee_details)),this.formService.submit_application(i).subscribe({next:m=>{this.loader=!1,this.router.navigate(["/acknowledgement"])}})}}};d.\u0275fac=function(i){return new(i||d)(N(H),N($))},d.\u0275cmp=D({type:d,selectors:[["app-form"]],standalone:!0,features:[P],decls:278,vars:5,consts:[["details","ngForm"],["district","ngModel"],["registration_type","ngModel"],["full_name","ngModel"],["email","ngModel"],["establishment_name","ngModel"],["photo","ngModel"],["address","ngModel"],["situation","ngModel"],["establishment_category","ngModel"],["nature_of_business","ngModel"],["employer_parentage_name","ngModel"],["employer_parentage_desg","ngModel"],["employer_parentage_addr","ngModel"],["employer_parentage_interest","ngModel"],["employer_name","ngModel"],["employer_desg","ngModel"],["employer_addr","ngModel"],["employer_family_name","ngModel"],["employer_family_age","ngModel"],["employer_family_gender","ngModel"],["employer_family_rel","ngModel"],["employer_management_name","ngModel"],["employer_management_age","ngModel"],["employer_management_gender","ngModel"],["employer_management_rel","ngModel"],["old_male","ngModel"],["old_female","ngModel"],["old_total","ngModel"],["young_male","ngModel"],["young_female","ngModel"],["young_total","ngModel"],["weekly_holidays","ngModel"],["office","ngModel"],[1,"text-center","mt-3","mb-5"],["src","assets/images/seal.png","height","120"],[1,"mt-3"],[1,"form"],[3,"ngSubmit"],[1,"applying"],[1,"d-flex","justify-content-between","align-items-center"],[1,"text-danger"],[1,"row","g-3"],[1,"col-12","col-md-4"],[1,"form-label"],["type","text","value","Department of Labour","disabled","",1,"form-control","shadow-none"],["name","district","ngModel","","required","",1,"form-select","shadow-none"],["value",""],[3,"value"],["name","registration_type","ngModel","","required","",1,"form-select","shadow-none"],["value","New Registration"],["value","Already Registered"],[1,"details","mt-3"],[1,"col-12","col-lg-3","col-md-4"],["type","text","name","full_name","ngModel","","required","",1,"form-control","shadow-none"],["type","text","name","email","ngModel","","required","",1,"form-control","shadow-none"],["type","text","name","establishment_name","ngModel","","required","",1,"form-control","shadow-none"],["type","file","name","photo","ngModel","","required","",1,"form-control","shadow-none",3,"change"],[1,"row","g-3","mt-2"],[1,"col-12","col-md-6"],["cols","2","rows","7","name","address","ngModel","","required","",1,"form-control","shadow-none"],["cols","2","rows","5","name","situation","ngModel","","required","",1,"form-control","shadow-none"],["name","establishment_category","ngModel","","required","",1,"form-select","shadow-none"],["type","text","name","nature_of_business","ngModel","","required","",1,"form-control","shadow-none"],[1,"row","mt-4"],[1,"col-12"],[1,"list-group","mb-3"],[1,"col-12","col-md-2"],["type","text","placeholder","Name Parentage","name","employer_parentage_name","ngModel","",1,"form-control","shadow-none"],["type","text","placeholder","Designation","name","employer_parentage_desg","ngModel","",1,"form-control","shadow-none"],["type","text","placeholder","Permanent Address","name","employer_parentage_addr","ngModel","",1,"form-control","shadow-none"],[1,"col-12","col-md-3"],["type","text","placeholder","Nature of interest: (Whether Partnership Member, Director Shareholders)","name","employer_parentage_interest","ngModel","",1,"form-control","shadow-none"],[1,"col-1"],["type","button",1,"btn","btn-primary",3,"click"],["type","text","placeholder","Full Name of Employer","name","employer_name","ngModel","",1,"form-control","shadow-none"],["type","text","placeholder","Designation of Employer","name","employer_desg","ngModel","",1,"form-control","shadow-none"],[1,"col-12","col-md-5"],["type","text","placeholder","Permanent Address","name","employer_addr","ngModel","",1,"form-control","shadow-none"],["type","text","placeholder","Full Name","name","employer_family_name","ngModel","",1,"form-control","shadow-none"],["type","text","placeholder","Age","name","employer_family_age","ngModel","",1,"form-control","shadow-none"],["type","text","placeholder","Gender","name","employer_family_gender","ngModel","",1,"form-control","shadow-none"],["type","text","placeholder","Relationship With Employer","name","employer_family_rel","ngModel","",1,"form-control","shadow-none"],["type","text","placeholder","Full Name","name","employer_management_name","ngModel","",1,"form-control","shadow-none"],["type","text","placeholder","Age","name","employer_management_age","ngModel","",1,"form-control","shadow-none"],["type","text","placeholder","Gender","name","employer_management_gender","ngModel","",1,"form-control","shadow-none"],["type","text","placeholder","Relationship With Employer","name","employer_management_rel","ngModel","",1,"form-control","shadow-none"],["type","text","placeholder","Male","name","old_male","ngModel","","required","",1,"form-control","shadow-none"],["type","text","placeholder","Female","name","old_female","ngModel","","required","",1,"form-control","shadow-none"],["type","text","placeholder","Total","name","old_total","ngModel","","required","",1,"form-control","shadow-none"],["type","text","placeholder","Male","name","young_male","ngModel","","required","",1,"form-control","shadow-none"],["type","text","placeholder","Female","name","young_female","ngModel","","required","",1,"form-control","shadow-none"],["type","text","placeholder","Total","name","young_total","ngModel","","required","",1,"form-control","shadow-none"],["type","text","name","weekly_holidays","ngModel","",1,"form-control","shadow-none"],[1,"declaration","mt-3"],["type","checkbox",3,"click"],[1,"additional","mt-3"],[1,"row"],[1,"col-4"],["name","office","ngModel","","required","",1,"form-select"],[1,"controls","mt-3","mb-5","text-end"],["type","submit",1,"btn","btn-primary"],[1,"list-group-item","d-flex","justify-content-between"],[1,"text-danger",2,"cursor","pointer",3,"click"],["aria-hidden","true",1,"spinner-border","spinner-border-sm"],["role","status"]],template:function(i,m){if(i&1){let c=F();e(0,"header",34),o(1,"img",35),e(2,"h4",36),n(3,"Application for Certificate of Establishment"),t(),e(4,"h5"),n(5,"Under The Sikkim Shops & Commercial Establishment Act 1983"),t(),e(6,"h5"),n(7,"Labour Department, Government of Sikkim"),t()(),e(8,"section",37)(9,"form",38,0),u("ngSubmit",function(){y(c);let g=_(10);return f(m.submitForm(g))}),e(11,"div",39)(12,"div",40)(13,"h5"),n(14,"Applying To"),t(),e(15,"span")(16,"strong"),n(17,"Note:"),t(),n(18," Fields marked with ("),e(19,"span",41),n(20,"*"),t(),n(21,") are mandatory"),t()(),o(22,"hr"),e(23,"div",42)(24,"div",43)(25,"label",44),n(26,"Department"),t(),o(27,"input",45),t(),e(28,"div",43)(29,"label",44),n(30,"District"),e(31,"span",41),n(32,"*"),t()(),e(33,"select",46,1)(35,"option",47),n(36,"---Select District---"),t(),x(37,Y,2,2,"option",48,v),t()(),e(39,"div",43)(40,"label",44),n(41,"Registration Type"),e(42,"span",41),n(43,"*"),t()(),e(44,"select",49,2)(46,"option",47),n(47,"---Select Registration Type---"),t(),e(48,"option",50),n(49,"New Registration"),t(),e(50,"option",51),n(51,"Already Registered"),t()()()()(),e(52,"div",52)(53,"h5"),n(54,"Application Details"),t(),o(55,"hr"),e(56,"div",42)(57,"div",53)(58,"label",44),n(59,"Full Name"),e(60,"span",41),n(61,"*"),t()(),o(62,"input",54,3),t(),e(64,"div",53)(65,"label",44),n(66,"E-Mail"),e(67,"span",41),n(68,"*"),t()(),o(69,"input",55,4),t(),e(71,"div",53)(72,"label",44),n(73,"Establishments Name"),e(74,"span",41),n(75,"*"),t()(),o(76,"input",56,5),t(),e(78,"div",53)(79,"label",44),n(80,"Applicants Photograph"),e(81,"span",41),n(82,"*"),t()(),e(83,"input",57,6),u("change",function(g){return y(c),f(m.photoUpload(g))}),t()()(),e(85,"div",58)(86,"div",59)(87,"label",44),n(88,"Full postal address and location of the establishment"),e(89,"span",41),n(90,"*"),t()(),o(91,"textarea",60,7),t(),e(93,"div",59)(94,"label",44),n(95,"Situation of Office, storeroom, Godown, warehouse or workplace. If any attached to the establishment but situated in the premises different from those of the Establishment"),e(96,"span",41),n(97,"*"),t()(),o(98,"textarea",61,8),t()(),e(100,"div",58)(101,"div",59)(102,"label",44),n(103,"Category of Establishment"),e(104,"span",41),n(105,"*"),t()(),e(106,"select",62,9)(108,"option",47),n(109,"---Select Category of Establishment---"),t(),x(110,Z,2,2,"option",48,v),t()(),e(112,"div",59)(113,"label",44),n(114,"Nature of Business"),e(115,"span",41),n(116,"*"),t()(),o(117,"input",63,10),t()(),e(119,"div",64)(120,"div",65)(121,"label"),n(122,"Particulars of the person having interest in the Establishment as Employer (applicable only where a nomination is made under Section 76)"),t(),o(123,"hr"),M(124,te,3,0,"ul",66),e(125,"div",58)(126,"div",67),o(127,"input",68,11),t(),e(129,"div",67),o(130,"input",69,12),t(),e(132,"div",43),o(133,"input",70,13),t(),e(135,"div",71),o(136,"input",72,14),t(),e(138,"div",73)(139,"button",74),u("click",function(){y(c);let g=_(128),E=_(131),b=_(134),k=_(137);return f(m.employerParentageDetails("add",{employer_parentage_name:g.value,employer_parentage_desg:E.value,employer_parentage_addr:b.value,employer_parentage_interest:k.value}))}),n(140,"+"),t()()()()(),e(141,"div",64)(142,"div",65)(143,"label"),n(144,"Name, Designation and Permanent Address of the Employer"),t(),o(145,"hr"),M(146,ie,3,0,"ul",66),e(147,"div",58)(148,"div",71),o(149,"input",75,15),t(),e(151,"div",71),o(152,"input",76,16),t(),e(154,"div",77),o(155,"input",78,17),t(),e(157,"div",73)(158,"button",74),u("click",function(){y(c);let g=_(150),E=_(153),b=_(156);return f(m.employerDetails("add",{employer_name:g.value,employer_desg:E.value,employer_addr:b.value}))}),n(159,"+"),t()()()()(),e(160,"div",64)(161,"div",65)(162,"label"),n(163,"Particulars of the members of the Employer's family employed in the Establishments as defined in Section 2(17)"),t(),o(164,"hr"),M(165,ae,3,0,"ul",66),e(166,"div",58)(167,"div",71),o(168,"input",79,18),t(),e(170,"div",67),o(171,"input",80,19),t(),e(173,"div",71),o(174,"input",81,20),t(),e(176,"div",71),o(177,"input",82,21),t(),e(179,"div",73)(180,"button",74),u("click",function(){y(c);let g=_(169),E=_(172),b=_(175),k=_(178);return f(m.employerFamilyMemberDetails("add",{employer_family_name:g.value,employer_family_age:E.value,employer_family_gender:b.value,employer_family_rel:k.value}))}),n(181,"+"),t()()()()(),e(182,"div",64)(183,"div",65)(184,"label"),n(185,"Name of the other person occupying the position of the Management or Employees engaged confidential capacity, if any"),t(),o(186,"hr"),M(187,oe,3,0,"ul",66),e(188,"div",58)(189,"div",71),o(190,"input",83,22),t(),e(192,"div",67),o(193,"input",84,23),t(),e(195,"div",71),o(196,"input",85,24),t(),e(198,"div",71),o(199,"input",86,25),t(),e(201,"div",73)(202,"button",74),u("click",function(){y(c);let g=_(191),E=_(194),b=_(197),k=_(200);return f(m.managementEmployeeDetails("add",{employer_management_name:g.value,employer_management_age:E.value,employer_management_gender:b.value,employer_management_rel:k.value}))}),n(203,"+"),t()()()()(),e(204,"div",64)(205,"div",65)(206,"label"),n(207,"Total Number of Employees"),e(208,"span",41),n(209,"*"),t()(),o(210,"hr"),e(211,"div",58)(212,"div",43),o(213,"input",87,26),t(),e(215,"div",43),o(216,"input",88,27),t(),e(218,"div",43),o(219,"input",89,28),t()()()(),e(221,"div",64)(222,"div",65)(223,"label"),n(224,"Total Number of Employees"),e(225,"span",41),n(226,"*"),t()(),o(227,"hr"),e(228,"div",58)(229,"div",43),o(230,"input",90,29),t(),e(232,"div",43),o(233,"input",91,30),t(),e(235,"div",43),o(236,"input",92,31),t()()()(),e(238,"div",64)(239,"div",65)(240,"label",44),n(241,"Name of the day of the week on which weekly holidays will be observed; as per relevant Notification (in case of Shop and Commercial Establishments only)"),t(),o(242,"input",93,32),t()()(),e(244,"div",94)(245,"h5"),n(246,"Declaration"),t(),o(247,"hr"),e(248,"p"),n(249,"I hereby solemnly affirm and declare that to the best of my knowledge and belief."),t(),e(250,"p"),n(251,"I am a citizen of India."),t(),e(252,"p"),n(253,"I have not concealed or suppressed any information, the disclosure of which would make me disentitled for this Certificate."),t(),e(254,"p"),n(255,"I shall be held responsible for any misrepresentation or false information given by me while applying for this Certificate."),t(),e(256,"input",95),u("click",function(g){return y(c),f(m.getCheck(g))}),t(),n(257,"\xA0\xA0\xA0I Agree "),t(),e(258,"div",96)(259,"h5"),n(260,"Additional Details"),t(),o(261,"hr"),e(262,"div",97)(263,"div",98)(264,"label",44),n(265,"Applied to Office"),e(266,"span",41),n(267,"*"),t()(),e(268,"select",99,33)(270,"option",47),n(271,"---Select Office---"),t(),x(272,me,2,2,"option",48,v),t()()()(),e(274,"div",100)(275,"button",101),M(276,de,3,0)(277,se,1,0),t()()()()}i&2&&(s(37),S(m.districts),s(73),S(m.establishments),s(14),C(124,m.employer_parentage_details[0]?124:-1),s(22),C(146,m.employer_details[0]?146:-1),s(19),C(165,m.employer_family_member_details[0]?165:-1),s(22),C(187,m.management_level_employee_details[0]?187:-1),s(85),S(m.offices),s(4),C(276,m.loader?276:277))},dependencies:[z,J,U,X,O,L,R,B,W,G,j],styles:["input.ng-invalid.ng-touched[_ngcontent-%COMP%], select.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid red}.form-label[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{font-weight:700}"]});let a=d;return a})();export{fe as FormComponent};
