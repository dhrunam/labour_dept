import{a as $}from"./chunk-3K4VT3EW.js";import{a as V,b as M,c as k,d as A,e as L,f as D,j as O,l as q}from"./chunk-LZEWMCEB.js";import"./chunk-DNLRMMXQ.js";import{j as F,m as I}from"./chunk-BH5IOZ3E.js";import"./chunk-MN44VEXJ.js";import{Ga as a,Ha as b,Wa as c,X as f,Ya as g,ab as p,bb as v,cb as C,da as x,db as E,ea as S,eb as e,fb as t,gb as u,jb as R,lb as y,mb as N,rb as h,sb as n,tb as d,xb as T,yb as w}from"./chunk-EN6TLIPF.js";import"./chunk-CGT2X6C5.js";var B=i=>["/dashboard/old-shops-establishment/details",i];function G(i,o){i&1&&(e(0,"small",6),n(1,"Please enter old registration number"),t())}function P(i,o){i&1&&(u(0,"span",10),n(1," \xA0"),e(2,"span",11),n(3,"Loading..."),t())}function z(i,o){i&1&&n(0," Search ")}function H(i,o){if(i&1&&(e(0,"tr")(1,"td"),n(2),t(),e(3,"td"),n(4),t(),e(5,"td"),n(6),t(),e(7,"td"),n(8),t(),e(9,"td"),n(10),t(),e(11,"td")(12,"a",13),n(13,"View"),t()()()),i&2){let l=o.$implicit,r=o.$index;a(2),d(r+1),a(2),d(l.registration_number),a(2),d(l.name_employer),a(2),d(l.establishment_name),a(2),d(l.application_status),a(2),g("routerLink",w(6,B,l.id))}}function J(i,o){if(i&1&&(e(0,"table",9)(1,"thead")(2,"tr")(3,"th",12),n(4,"S.No."),t(),e(5,"th",12),n(6,"Registration No."),t(),e(7,"th",12),n(8,"Applicant Name"),t(),e(9,"th",12),n(10,"Establishments Name"),t(),e(11,"th",12),n(12,"Status"),t(),e(13,"th",12),n(14,"View"),t()()(),e(15,"tbody"),C(16,H,14,8,"tr",null,v),t()()),i&2){let l=N();a(16),E(l.applications)}}function K(i,o){i&1&&(e(0,"h6"),n(1,"No Results Found !!"),t())}var te=(()=>{let o=class o{constructor(r){this.recordsService=r,this.applications=[],this.loader=!1}ngOnInit(){this.get_old_certificate_of_establishment()}onSearch(r){r.valid?(this.loader=!0,this.recordsService.get_applications_by_search_text(r.value.search_text).subscribe({next:s=>{this.loader=!1,this.applications=[],this.applications=s.results,console.log(s.results)}})):r.control.markAllAsTouched()}get_old_certificate_of_establishment(){this.recordsService.get_applications().subscribe({next:r=>{this.loader=!1,this.applications=[],this.applications=r.results,console.log(r.results)}})}};o.\u0275fac=function(s){return new(s||o)(b($))},o.\u0275cmp=f({type:o,selectors:[["app-records"]],standalone:!0,features:[T],decls:16,vars:3,consts:[["search","ngForm"],["search_text","ngModel"],[3,"ngSubmit"],[1,"row"],[1,"col-md-4"],["type","text","placeholder","Old Registratin Number","name","search_text","ngModel","","required","",1,"form-control","shadow-none"],[1,"text-danger"],[1,"col-md-3"],["type","submit",1,"btn","btn-primary"],[1,"table"],["aria-hidden","true",1,"spinner-border","spinner-border-sm"],["role","status"],["scope","col"],[3,"routerLink"]],template:function(s,_){if(s&1){let m=R();e(0,"h4"),n(1,"Old Certified Establishment Records"),t(),e(2,"form",2,0),y("ngSubmit",function(){x(m);let j=h(3);return S(_.onSearch(j))}),e(4,"div",3)(5,"div",4),u(6,"input",5,1),c(8,G,2,0,"small",6),t(),e(9,"div",7)(10,"button",8),c(11,P,4,0)(12,z,1,0),t()()()(),u(13,"hr"),c(14,J,18,0,"table",9)(15,K,2,0)}if(s&2){let m=h(7);a(8),p(8,m.touched&&m.invalid?8:-1),a(3),p(11,_.loader?11:12),a(3),p(14,_.applications[0]?14:15)}},dependencies:[I,F,q,D,V,M,k,O,L,A]});let i=o;return i})();export{te as RecordsComponent};
